<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡πÄ‡∏Å‡∏©‡∏µ‡∏¢‡∏ì</title>
  <script src="https://cdn.jsdelivr.net/npm/react/umd/react.production.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/react-dom/umd/react-dom.production.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/recharts/umd/Recharts.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/babel-standalone@6/babel.min.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>
<body class="bg-gray-100 font-sans">
  <div id="root" class="min-h-screen"></div>

  <!-- Embed the React App using Babel -->
  <script type="text/babel">
    const { useState } = React;
    const {
      BarChart, Bar, XAxis, YAxis, Tooltip, ResponsiveContainer
    } = Recharts;

    const App = () => {
      const [form, setForm] = useState({
        currentAge: '',
        retirementAge: '',
        lifeExpectancy: '',
        currentSavings: '',
        monthlySaving: '',
        expectedExpense: ''
      });
      const [result, setResult] = useState(null);

      const handleChange = (e) => {
        setForm({ ...form, [e.target.name]: e.target.value });
      };

      const handleCalculate = () => {
        const {
          currentAge,
          retirementAge,
          lifeExpectancy,
          currentSavings,
          monthlySaving,
          expectedExpense
        } = form;

        const yearsToSave = retirementAge - currentAge;
        const yearsAfterRetire = lifeExpectancy - retirementAge;

        const totalSaving = parseFloat(currentSavings) + (parseFloat(monthlySaving) * 12 * yearsToSave);
        const totalNeed = parseFloat(expectedExpense) * 12 * yearsAfterRetire;

        setResult({ totalSaving, totalNeed });
      };

      return (
        <div className="max-w-5xl mx-auto py-10 px-6">
          <h1 className="text-3xl md:text-4xl font-extrabold text-center text-[#005f56] mb-5">
            ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡πÄ‡∏Å‡∏©‡∏µ‡∏¢‡∏ì
          </h1>
          <p className="text-center text-gray-600 mb-10 text-base md:text-lg">
            ‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡πÄ‡∏á‡∏¥‡∏ô‡∏≠‡∏≠‡∏°‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ß‡∏±‡∏¢‡πÄ‡∏Å‡∏©‡∏µ‡∏¢‡∏ì‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î
          </p>

          <div className="bg-white border p-6 md:p-8 rounded-lg shadow-md mb-10">
            <h2 className="text-xl md:text-2xl font-semibold text-[#00928b] mb-6">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</h2>
            <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
              {[
                { name: 'currentAge', label: '‡∏≠‡∏≤‡∏¢‡∏∏‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô', unit: '‡∏õ‡∏µ' },
                { name: 'retirementAge', label: '‡∏≠‡∏≤‡∏¢‡∏∏‡πÄ‡∏Å‡∏©‡∏µ‡∏¢‡∏ì', unit: '‡∏õ‡∏µ' },
                { name: 'lifeExpectancy', label: '‡∏Ñ‡∏≤‡∏î‡∏ß‡πà‡∏≤‡∏à‡∏∞‡∏°‡∏µ‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡∏ñ‡∏∂‡∏á‡∏≠‡∏≤‡∏¢‡∏∏', unit: '‡∏õ‡∏µ' },
                { name: 'currentSavings', label: '‡πÄ‡∏á‡∏¥‡∏ô‡∏≠‡∏≠‡∏°‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô', unit: '‡∏ö‡∏≤‡∏ó' },
                { name: 'monthlySaving', label: '‡πÄ‡∏á‡∏¥‡∏ô‡∏≠‡∏≠‡∏°‡∏£‡∏≤‡∏¢‡πÄ‡∏î‡∏∑‡∏≠‡∏ô', unit: '‡∏ö‡∏≤‡∏ó' },
                { name: 'expectedExpense', label: '‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢‡∏£‡∏≤‡∏¢‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏´‡∏•‡∏±‡∏á‡πÄ‡∏Å‡∏©‡∏µ‡∏¢‡∏ì', unit: '‡∏ö‡∏≤‡∏ó' }
              ].map(({ name, label, unit }) => (
                <div key={name}>
                  <label htmlFor={name} className="block font-medium text-gray-700 mb-1">{label}</label>
                  <input
                    type="number"
                    id={name}
                    name={name}
                    value={form[name]}
                    onChange={handleChange}
                    className="w-full p-2 border border-gray-300 rounded-md"
                    placeholder={unit}
                  />
                </div>
              ))}
            </div>
            <button
              onClick={handleCalculate}
              className="mt-8 w-full bg-[#005f56] text-white py-3.5 px-5 rounded-lg hover:bg-[#004843] transition duration-200 text-lg md:text-xl font-semibold shadow hover:shadow-md"
            >
              ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡πÅ‡∏ú‡∏ô‡πÄ‡∏Å‡∏©‡∏µ‡∏¢‡∏ì
            </button>
          </div>

          {result && (
            <div className="bg-white p-6 rounded-lg shadow-md">
              <h3 className="text-xl font-semibold text-[#005f56] mb-4">‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏•</h3>
              <ul className="space-y-2 text-gray-700">
                <li>üí∞ ‡πÄ‡∏á‡∏¥‡∏ô‡∏≠‡∏≠‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏Å‡∏©‡∏µ‡∏¢‡∏ì: <strong>{result.totalSaving.toLocaleString()} ‡∏ö‡∏≤‡∏ó</strong></li>
                <li>üßæ ‡πÄ‡∏á‡∏¥‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡∏´‡∏•‡∏±‡∏á‡πÄ‡∏Å‡∏©‡∏µ‡∏¢‡∏ì: <strong>{result.totalNeed.toLocaleString()} ‡∏ö‡∏≤‡∏ó</strong></li>
                <li>üìä ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏û‡∏≠: <strong className={result.totalSaving >= result.totalNeed ? 'text-green-600' : 'text-red-600'}>{result.totalSaving >= result.totalNeed ? '‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏û‡∏≠' : '‡πÑ‡∏°‡πà‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏û‡∏≠'}</strong></li>
              </ul>
              <div className="w-full h-64 mt-6">
                <ResponsiveContainer width="100%" height="100%">
                  <BarChart data={[
                    { name: '‡πÄ‡∏á‡∏¥‡∏ô‡∏≠‡∏≠‡∏°', value: result.totalSaving },
                    { name: '‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ', value: result.totalNeed }
                  ]}>
                    <XAxis dataKey="name" />
                    <YAxis tickFormatter={(val) => val.toLocaleString()} />
                    <Tooltip formatter={(val) => val.toLocaleString() + ' ‡∏ö‡∏≤‡∏ó'} />
                    <Bar dataKey="value" fill="#10b981" radius={[10, 10, 0, 0]} />
                  </BarChart>
                </ResponsiveContainer>
              </div>
            </div>
          )}
        </div>
      );
    };

    ReactDOM.render(<App />, document.getElementById('root'));
  </script>
</body>
</html>
